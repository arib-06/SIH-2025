<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect" />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap"
    rel="stylesheet" />
  <title>AI Assistant - Traverz Travel Companion</title>
  <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon" />
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Custom CSS Files -->
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/ai-assistant.css">
  <!-- CSS styles moved to external files -->
  <!-- Navbar Loader Script -->
  <script src="js/navbar-loader.js"></script>
  <!-- AI Assistant functionality -->
  <script src="js/ai-assistant.js"></script>

</head>

<body class="bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen">
  <!-- Navigation Container - Will be populated by navbar-loader.js -->
  <div id="navbar-container"></div>

  <!-- Main Chat Section -->
  <section class="pt-24 pb-8 px-4 sm:px-6 lg:px-8 min-h-screen ">
    <div class="max-w-6xl mx-auto">
      <!-- Page Header -->
      

      <!-- Chat Interface -->
      <div class="glass-effect rounded-3xl shadow-2xl animate-fadeInUp">
        <!-- Chat Header -->
        <div class="flex items-center justify-between p-6 border-b border-slate-200">
          <div class="flex items-center space-x-4">
            <div class="w-14 h-14 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center animate-pulse-slow">
              <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 256 256">
                <path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"></path>
              </svg>
            </div>
            <div>
              <h2 class="text-xl font-semibold">Traverz AI Assistant</h2>
              <p class="text-sm text-green-600 flex items-center">
                <span class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"></span>
                Online & Ready to Help
              </p>
            </div>
          </div>
          <div class="flex items-center space-x-3">
            <button class="p-3 rounded-xl hover:bg-slate-100 transition-colors" onclick="clearChat()" title="Clear Chat">
              <svg class="w-5 h-5 text-slate-500" fill="currentColor" viewBox="0 0 256 256">
                <path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"></path>
              </svg>
            </button>
          </div>
        </div>

        <!-- Chat Container -->
        <div class="chat-container p-6">
          <!-- Chat Messages -->
          <div class="chat-messages space-y-4" id="chatMessages">
            <!-- Welcome Message -->
            <div class="ai-message p-5 animate-messageSlideIn">
              <div class="flex items-center space-x-3 mb-3">
                <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                  <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Z"></path>
                  </svg>
                </div>
                <span class="text-sm text-slate-500 font-medium">AI Assistant</span>
                <span class="text-xs text-slate-400">Just now</span>
              </div>
              <div class="message-content text-slate-700">
                <p class="mb-4">üëã <strong>Welcome to Traverz AI Assistant!</strong></p>
                <p class="mb-4">I'm here to help you plan amazing trips and answer any travel questions. I can assist with:</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm mb-4">
                  <div class="flex items-center space-x-3 p-3 bg-blue-50 rounded-lg">
                    <span class="text-lg">‚úàÔ∏è</span>
                    <span>Flight & hotel bookings</span>
                  </div>
                  <div class="flex items-center space-x-3 p-3 bg-purple-50 rounded-lg">
                    <span class="text-lg">üó∫Ô∏è</span>
                    <span>Trip planning & itineraries</span>
                  </div>
                  <div class="flex items-center space-x-3 p-3 bg-green-50 rounded-lg">
                    <span class="text-lg">üìç</span>
                    <span>Local recommendations</span>
                  </div>
                  <div class="flex items-center space-x-3 p-3 bg-orange-50 rounded-lg">
                    <span class="text-lg">üÜò</span>
                    <span>Emergency support</span>
                  </div>
                </div>
                <p><strong>What would you like to know about your next adventure?</strong></p>
                <div class="quick-actions">
                  <button class="quick-action-btn" onclick="sendQuickMessage('Plan a 5-day trip to Paris')">Plan Paris Trip</button>
                  <button class="quick-action-btn" onclick="sendQuickMessage('Find budget hotels in Tokyo')">Find Hotels</button>
                  <button class="quick-action-btn" onclick="sendQuickMessage('Best time to visit Bali')">Travel Tips</button>
                  <button class="quick-action-btn" onclick="sendQuickMessage('Emergency contacts for Thailand')">Emergency Info</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Chat Input Area -->
          <div class="mt-6 pt-6 border-t border-slate-200">
            <div class="flex space-x-4">
              <div class="flex-1 relative">
                <textarea 
                  id="chatInput"
                  placeholder="Ask me anything about travel... (Press Shift+Enter for new line, Enter to send)"
                  class="chat-input w-full p-4 pr-16 border-2 border-slate-300 rounded-2xl focus:outline-none resize-none"
                  rows="1"
                  onkeydown="handleKeyPress(event)"
                  oninput="autoResize(this)"
                ></textarea>
                <div class="absolute right-3 bottom-3 flex space-x-2">
                  <button 
                    class="p-2 rounded-lg hover:bg-slate-100 transition-colors"
                    onclick="attachFile()"
                    title="Attach File"
                  >
                    <svg class="w-5 h-5 text-slate-500" fill="currentColor" viewBox="0 0 256 256">
                      <path d="M209.66,122.34a8,8,0,0,1,0,11.32l-82.05,82a56,56,0,0,1-79.2-79.21L147.67,35.27a40,40,0,1,1,56.61,56.55L105,193a24,24,0,0,1-33.94-33.94l83.28-83.29a8,8,0,0,1,11.32,11.32L82.34,170.34a8,8,0,0,0,11.32,11.32L192.93,80.61a24,24,0,0,0-33.94-33.94L60.73,147.85a40,40,0,0,0,56.55,56.61l82.06-82A8,8,0,0,1,209.66,122.34Z"></path>
                    </svg>
                  </button>
                </div>
              </div>
              <button 
                id="sendButton"
                class="btn-primary px-8 py-4 rounded-2xl text-white font-semibold hover:scale-105 transition-all duration-300" 
                onclick="sendMessage()"
              >
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M231.4,44.34s0,0,0,0a8.32,8.32,0,0,0-8.81-1.74L33.12,106.3a16,16,0,0,0,.09,29.42L120,150.15l14.43,86.79a16,16,0,0,0,29.42.09L227.57,47.57A8.32,8.32,0,0,0,231.4,44.34ZM120,134.85,54.28,119.18,200.75,62.52Zm45.05,86.8L149.32,155.91,206,90.19Z"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    let isTyping = false;
    const chatMessages = document.getElementById('chatMessages');
    const chatInput = document.getElementById('chatInput');

    // Sample AI responses
    const aiResponses = [
      {
        trigger: ['paris', 'france'],
        response: "üá´üá∑ **Paris - The City of Light!** Here's a perfect 5-day itinerary:\n\n**Day 1: Classic Paris**\n‚Ä¢ Morning: Eiffel Tower & Trocad√©ro Gardens\n‚Ä¢ Afternoon: Seine River cruise\n‚Ä¢ Evening: Champs-√âlys√©es & Arc de Triomphe\n\n**Day 2: Art & Culture**\n‚Ä¢ Morning: Louvre Museum (book skip-the-line!)\n‚Ä¢ Afternoon: √éle de la Cit√© & Notre-Dame area\n‚Ä¢ Evening: Latin Quarter dining\n\n**Day 3: Montmartre Magic**\n‚Ä¢ Morning: Sacr√©-C≈ìur Basilica\n‚Ä¢ Afternoon: Artist squares & caf√©s\n‚Ä¢ Evening: Moulin Rouge district\n\n**Day 4: Royal Versailles**\n‚Ä¢ Full day: Palace of Versailles (day trip)\n‚Ä¢ Evening: Return to Paris, relaxed dinner\n\n**Day 5: Hidden Gems**\n‚Ä¢ Morning: Marais district exploration\n‚Ä¢ Afternoon: Luxembourg Gardens\n‚Ä¢ Evening: River Seine sunset walk\n\n**üè® Where to Stay:**\n‚Ä¢ Luxury: Le Meurice, Four Seasons\n‚Ä¢ Mid-range: Hotel des Grands Boulevards\n‚Ä¢ Budget: Hotel Jeanne d'Arc\n\n**üí° Pro Tips:**\n‚Ä¢ Buy a Museum Pass for skip-the-line access\n‚Ä¢ Metro day passes save money\n‚Ä¢ Try authentic bistros in residential areas\n\nWould you like specific restaurant recommendations or help booking accommodations?"
      },
      {
        trigger: ['tokyo', 'japan'],
        response: "üáØüáµ **Tokyo - An Amazing Choice!** Here's your ultimate guide:\n\n**üèôÔ∏è Best Districts to Explore:**\n‚Ä¢ **Shibuya**: Famous crossing, vibrant nightlife\n‚Ä¢ **Harajuku**: Youth culture, quirky fashion\n‚Ä¢ **Ginza**: Luxury shopping, fine dining\n‚Ä¢ **Asakusa**: Traditional temples, old Tokyo charm\n‚Ä¢ **Shinjuku**: Neon lights, entertainment district\n‚Ä¢ **Akihabara**: Electronics, anime culture\n\n**üçú Must-Try Food Experiences:**\n‚Ä¢ **Tsukiji Outer Market**: Fresh sushi breakfast\n‚Ä¢ **Ramen**: Try Ichiran or Ippudo\n‚Ä¢ **Kaiseki**: Traditional multi-course dining\n‚Ä¢ **Street Food**: Takoyaki, taiyaki, yakitori\n‚Ä¢ **Department Store Food Courts**: High-quality, affordable\n\n**üèØ Top Attractions:**\n‚Ä¢ Senso-ji Temple (oldest in Tokyo)\n‚Ä¢ Tokyo Skytree or Tokyo Tower\n‚Ä¢ Meiji Shrine & Harajuku\n‚Ä¢ Imperial Palace Gardens\n‚Ä¢ Teamlab Borderless (digital art)\n\n**üöÖ Transportation:**\n‚Ä¢ Get a JR Pass for unlimited train travel\n‚Ä¢ Tokyo Metro 24/48/72-hour passes\n‚Ä¢ IC Cards (Suica/Pasmo) for convenience\n\n**üå∏ Best Time to Visit:**\n‚Ä¢ **Spring (Mar-May)**: Cherry blossoms, mild weather\n‚Ä¢ **Fall (Sep-Nov)**: Comfortable temps, autumn colors\n‚Ä¢ **Avoid**: July-August (very hot & humid)\n\n**üí∞ Budget Estimates (per day):**\n‚Ä¢ Budget: $50-80\n‚Ä¢ Mid-range: $120-200\n‚Ä¢ Luxury: $300+\n\nNeed help with specific bookings, JR Pass, or neighborhood recommendations?"
      },
      {
        trigger: ['hotel', 'accommodation', 'stay', 'booking'],
        response: "üè® **Let me help you find the perfect accommodation!**\n\n**üåü Luxury Hotels ($$$$)**\n‚Ä¢ Four Seasons, Ritz-Carlton, Park Hyatt\n‚Ä¢ Average: $400-1000/night\n‚Ä¢ Features: Spa, concierge, premium locations\n\n**üéØ Boutique Hotels ($$$)**\n‚Ä¢ Unique design, local character\n‚Ä¢ Average: $150-350/night\n‚Ä¢ Features: Personalized service, Instagram-worthy\n\n**üèôÔ∏è Business Hotels ($$)**\n‚Ä¢ Reliable chains: Marriott, Hilton, Hyatt\n‚Ä¢ Average: $80-200/night\n‚Ä¢ Features: Business centers, consistent quality\n\n**üéí Budget Options ($)**\n‚Ä¢ Hostels, guesthouses, capsule hotels\n‚Ä¢ Average: $20-80/night\n‚Ä¢ Features: Social atmosphere, basic amenities\n\n**üìç Location Strategy:**\n‚Ä¢ **City Center**: Walking distance to attractions\n‚Ä¢ **Transportation Hubs**: Easy airport/train access\n‚Ä¢ **Residential Areas**: Authentic local experience\n‚Ä¢ **Business Districts**: Convenient for work travel\n\n**üí° Booking Tips:**\n‚Ä¢ Book 2-8 weeks ahead for best rates\n‚Ä¢ Check cancellation policies\n‚Ä¢ Read recent reviews (last 6 months)\n‚Ä¢ Compare prices across multiple platforms\n‚Ä¢ Consider package deals (flight + hotel)\n\n**üîç What I Need to Help:**\n‚Ä¢ Destination city\n‚Ä¢ Check-in/out dates\n‚Ä¢ Number of guests\n‚Ä¢ Budget range\n‚Ä¢ Preferred neighborhood/features\n\nShare these details and I'll find perfect options for you!"
      },
      {
        trigger: ['emergency', 'help', 'urgent', 'sos'],
        response: "üÜò **24/7 Emergency Support Available**\n\n**üö® IMMEDIATE EMERGENCIES:**\nIf you're in immediate danger, call local emergency services first!\n\n**üìû Universal Emergency Numbers:**\n‚Ä¢ **Europe**: 112\n‚Ä¢ **US/Canada**: 911\n‚Ä¢ **UK**: 999\n‚Ä¢ **Australia**: 000\n‚Ä¢ **Japan**: 110 (police), 119 (fire/medical)\n\n**üè• Medical Emergencies:**\n‚Ä¢ Locate nearest hospital/clinic\n‚Ä¢ Contact travel insurance provider\n‚Ä¢ Keep important documents accessible\n‚Ä¢ Know your blood type & allergies\n\n**üÜî Lost Documents:**\n‚Ä¢ **Passport**: Contact nearest embassy/consulate immediately\n‚Ä¢ **ID/Cards**: Report to local police, get police report\n‚Ä¢ **Credit Cards**: Call bank emergency hotlines\n‚Ä¢ **Phone**: Remote wipe, contact carrier\n\n**üí≥ Financial Emergencies:**\n‚Ä¢ Emergency cash via Western Union/MoneyGram\n‚Ä¢ Contact bank for emergency card replacement\n‚Ä¢ Embassy can provide emergency loans (citizens)\n\n**üõ°Ô∏è Safety Features I Provide:**\n‚Ä¢ Real-time safety alerts for your location\n‚Ä¢ Embassy contact information\n‚Ä¢ Local emergency services directory\n‚Ä¢ Travel insurance claim assistance\n‚Ä¢ Emergency contact notifications\n\n**üì± Offline Emergency Info:**\nAlways save important numbers offline:\n‚Ä¢ Local emergency services\n‚Ä¢ Embassy contact\n‚Ä¢ Travel insurance hotline\n‚Ä¢ Family emergency contact\n\n**üåç Current Status Check:**\nAre you currently experiencing an emergency? Please share:\n‚Ä¢ Your location\n‚Ä¢ Nature of emergency\n‚Ä¢ Immediate assistance needed\n\nI'll provide specific local emergency contacts and guidance immediately!"
      },
      {
        trigger: ['bali', 'indonesia'],
        response: "üå¥ **Bali - Paradise Found!** Here's your complete guide:\n\n**üå§Ô∏è Best Time to Visit:**\n‚Ä¢ **Dry Season (Apr-Oct)**: Perfect weather, sunny days\n‚Ä¢ **Peak Season (Jul-Aug)**: Crowded but ideal conditions\n‚Ä¢ **Shoulder Season (May-Jun, Sep-Oct)**: Best balance\n‚Ä¢ **Wet Season (Nov-Mar)**: Lower prices, afternoon showers\n\n**üèñÔ∏è Top Regions:**\n‚Ä¢ **South Bali**: Beaches, nightlife, surfing\n  - Seminyak: Upscale, beach clubs\n  - Canggu: Surf culture, hip caf√©s\n  - Uluwatu: Clifftop temples, luxury resorts\n‚Ä¢ **Central Bali**: Culture, nature\n  - Ubud: Rice terraces, yoga retreats, art\n  - Tegallalang: Instagram-famous rice fields\n‚Ä¢ **East Bali**: Authentic, less touristy\n  - Amed: Diving, snorkeling, quiet beaches\n‚Ä¢ **North Bali**: Mountains, waterfalls\n  - Munduk: Cool climate, coffee plantations\n\n**üõï Must-Do Experiences:**\n‚Ä¢ Sunrise at Mount Batur (volcano hike)\n‚Ä¢ Temple hopping: Tanah Lot, Uluwatu, Besakih\n‚Ä¢ Traditional Balinese massage & spa\n‚Ä¢ Cooking class in Ubud\n‚Ä¢ Sekumpul Waterfalls\n‚Ä¢ Tegallalang Rice Terraces swing\n\n**üçΩÔ∏è Food Adventures:**\n‚Ä¢ Nasi Goreng (fried rice)\n‚Ä¢ Satay & Rendang\n‚Ä¢ Fresh tropical fruits\n‚Ä¢ Balinese coffee tasting\n‚Ä¢ Warung (local eatery) experiences\n\n**üí∞ Budget Estimates (per day):**\n‚Ä¢ Budget: $25-40\n‚Ä¢ Mid-range: $60-120\n‚Ä¢ Luxury: $200+\n\nWhat specific aspect of Bali interests you most? Beach life, cultural experiences, or adventure activities?"
      },
      {
        trigger: ['budget', 'cheap', 'affordable', 'money'],
        response: "üí∞ **Smart Budget Travel Guide**\n\n**‚úàÔ∏è Flight Savings:**\n‚Ä¢ Book 6-8 weeks ahead for international\n‚Ä¢ Use flexible date searches\n‚Ä¢ Consider nearby airports\n‚Ä¢ Tuesday/Wednesday departures often cheaper\n‚Ä¢ Use airline miles and credit card points\n\n**üè† Accommodation Hacks:**\n‚Ä¢ Mix hostels, guesthouses, and budget hotels\n‚Ä¢ Book longer stays for discounts\n‚Ä¢ Use loyalty programs\n‚Ä¢ Consider home-sharing platforms\n‚Ä¢ Stay in residential neighborhoods\n\n**üåç Budget-Friendly Destinations:**\n‚Ä¢ **Southeast Asia**: Thailand, Vietnam, Cambodia\n  - Daily budget: $20-40\n‚Ä¢ **Eastern Europe**: Poland, Czech Republic, Hungary\n  - Daily budget: $30-60\n‚Ä¢ **Central America**: Guatemala, Nicaragua\n  - Daily budget: $25-45\n‚Ä¢ **South Asia**: India, Nepal, Sri Lanka\n  - Daily budget: $15-35\n\n**üç¥ Food Budget Tips:**\n‚Ä¢ Eat where locals eat\n‚Ä¢ Street food and local markets\n‚Ä¢ Cook your own meals occasionally\n‚Ä¢ Lunch specials vs dinner prices\n‚Ä¢ Free hotel breakfast\n\n**üöå Transportation Savings:**\n‚Ä¢ Public transport passes\n‚Ä¢ Walking and cycling\n‚Ä¢ Overnight buses/trains (save accommodation)\n‚Ä¢ Group tours for remote areas\n‚Ä¢ Local buses over tourist shuttles\n\n**üÜì Free Activities:**\n‚Ä¢ Free walking tours\n‚Ä¢ Museums with free days\n‚Ä¢ Parks, beaches, hiking trails\n‚Ä¢ Local festivals and events\n‚Ä¢ Free city viewpoints\n\n**üí° Money Management:**\n‚Ä¢ Notify banks of travel plans\n‚Ä¢ Use cards with no foreign fees\n‚Ä¢ Keep emergency cash separate\n‚Ä¢ Track spending with apps\n‚Ä¢ Negotiate longer-stay discounts\n\n**üìä Sample Daily Budgets:**\n‚Ä¢ **Ultra Budget**: $15-30\n‚Ä¢ **Backpacker**: $30-50\n‚Ä¢ **Mid-range**: $80-150\n‚Ä¢ **Comfort**: $150-300\n\nWhat's your target budget and preferred destinations? I'll create a customized savings plan!"
      },
      {
        trigger: ['visa', 'passport', 'documents'],
        response: "üìã **Visa & Document Guide**\n\n**üìï Passport Requirements:**\n‚Ä¢ Must be valid for 6+ months from travel date\n‚Ä¢ Have at least 2-3 blank pages\n‚Ä¢ Check expiration date early (renewal takes time)\n‚Ä¢ Some countries require specific page types\n\n**üåç Visa Categories:**\n‚Ä¢ **Visa-Free**: No visa needed (check duration limits)\n‚Ä¢ **Visa on Arrival**: Pay at airport/border\n‚Ä¢ **eVisa**: Apply online before travel\n‚Ä¢ **Embassy Visa**: Apply at consulate/embassy\n‚Ä¢ **Transit Visa**: For layovers in some countries\n\n**‚è∞ Processing Times:**\n‚Ä¢ **eVisa**: 1-7 days\n‚Ä¢ **Standard Embassy**: 1-4 weeks\n‚Ä¢ **Rush Processing**: 1-3 days (extra cost)\n‚Ä¢ **Visa on Arrival**: Immediate (at border)\n\n**üìÑ Common Required Documents:**\n‚Ä¢ Valid passport\n‚Ä¢ Completed application form\n‚Ä¢ Recent passport photos\n‚Ä¢ Flight itinerary\n‚Ä¢ Hotel bookings/invitation letter\n‚Ä¢ Bank statements (proof of funds)\n‚Ä¢ Travel insurance (some countries)\n‚Ä¢ Vaccination certificates (certain regions)\n\n**üí° Pro Tips:**\n‚Ä¢ Apply early - don't risk delays\n‚Ä¢ Make copies of all documents\n‚Ä¢ Store digital copies in cloud\n‚Ä¢ Check embassy websites for latest requirements\n‚Ä¢ Some visas allow multiple entries\n‚Ä¢ Transit visas needed for some layovers\n\n**üö® Special Considerations:**\n‚Ä¢ **COVID**: Check current health requirements\n‚Ä¢ **Dual Citizens**: Which passport to use?\n‚Ä¢ **Criminal Record**: May affect visa eligibility\n‚Ä¢ **Previous Overstays**: Can impact applications\n\n**üîç Quick Visa Check:**\nTo give you specific requirements, I need:\n‚Ä¢ Your nationality\n‚Ä¢ Destination country\n‚Ä¢ Purpose of travel\n‚Ä¢ Planned duration\n\nShare these details for personalized visa guidance!"
      },
      {
        trigger: ['flight', 'airplane', 'airline'],
        response: "‚úàÔ∏è **Flight Booking Master Guide**\n\n**üí∞ Best Booking Times:**\n‚Ä¢ **Domestic**: 1-3 months ahead\n‚Ä¢ **International**: 2-8 months ahead\n‚Ä¢ **Peak Season**: Book even earlier\n‚Ä¢ **Last Minute**: Sometimes deals 1-2 weeks before\n\n**üìÖ Cheapest Days:**\n‚Ä¢ **Fly**: Tuesday, Wednesday, Saturday\n‚Ä¢ **Book**: Tuesday afternoons often best\n‚Ä¢ **Avoid**: Friday/Sunday departures\n\n**üîç Price Comparison Strategy:**\n‚Ä¢ Use multiple search engines\n‚Ä¢ Clear browser cookies between searches\n‚Ä¢ Try incognito/private browsing\n‚Ä¢ Check airline websites directly\n‚Ä¢ Set price alerts for routes\n\n**üéØ Money-Saving Tips:**\n‚Ä¢ **Flexible Dates**: Use calendar views\n‚Ä¢ **Nearby Airports**: Check alternatives\n‚Ä¢ **Connecting Flights**: Often cheaper than direct\n‚Ä¢ **Red-Eye Flights**: Less convenient = cheaper\n‚Ä¢ **Basic Economy**: If you don't need extras\n\n**üõ´ Airline Categories:**\n‚Ä¢ **Full Service**: Meals, baggage, seat selection included\n‚Ä¢ **Low Cost**: Pay for extras, no-frills\n‚Ä¢ **Premium**: Extra legroom, priority boarding\n‚Ä¢ **Budget Long-Haul**: Affordable international options\n\n**üí∫ Seat Selection Tips:**\n‚Ä¢ Exit rows: Extra legroom (restrictions apply)\n‚Ä¢ Avoid seats near bathrooms\n‚Ä¢ Window vs Aisle preference\n‚Ä¢ Check seatmaps before booking\n‚Ä¢ Consider paying for preferred seats\n\n**üéí Baggage Strategy:**\n‚Ä¢ Check size/weight limits carefully\n‚Ä¢ Carry-on only saves money\n‚Ä¢ Pack essentials in carry-on\n‚Ä¢ Know international liquid rules\n‚Ä¢ Consider baggage insurance\n\n**üõ°Ô∏è Travel Protection:**\n‚Ä¢ Travel insurance recommended\n‚Ä¢ Flight delay/cancellation coverage\n‚Ä¢ Medical emergency coverage\n‚Ä¢ Trip interruption protection\n\n**‚úÖ Booking Checklist:**\n‚Ä¢ Passport valid 6+ months\n‚Ä¢ Visa requirements checked\n‚Ä¢ Correct name spelling\n‚Ä¢ Contact information updated\n‚Ä¢ Special meal requests\n‚Ä¢ Seat preferences\n\nNeed help finding flights for a specific route? Share your departure city, destination, and travel dates!"
      }
    ];

    function handleKeyPress(event) {
      if (event.key === 'Enter' && !event.shiftKey) {
        event.preventDefault();
        sendMessage();
      }
    }

    function autoResize(textarea) {
      textarea.style.height = 'auto';
      textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';
    }

    function sendMessage() {
      const message = chatInput.value.trim();
      if (!message || isTyping) return;

      // Add user message
      addMessage(message, 'user');
      chatInput.value = '';
      chatInput.style.height = 'auto';

      // Show typing indicator
      showTypingIndicator();

      // Simulate AI response delay
      setTimeout(() => {
        hideTypingIndicator();
        const response = generateAIResponse(message);
        addMessage(response, 'ai');
      }, 1500 + Math.random() * 1000);
    }

    function sendQuickMessage(message) {
      chatInput.value = message;
      sendMessage();
    }

    function addMessage(text, sender) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message-bubble ${sender}-message p-5 animate-messageSlideIn`;
      
      const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
      
      if (sender === 'user') {
        messageDiv.innerHTML = `
          <div class="flex items-center justify-end space-x-3 mb-3">
            <span class="text-xs text-white/70 font-medium">${timestamp}</span>
            <span class="text-xs text-white/70 font-medium">You</span>
            <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 256 256">
                <path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"></path>
              </svg>
            </div>
          </div>
          <div class="message-content text-white">
            <p>${text}</p>
          </div>
        `;
      } else {
        messageDiv.innerHTML = `
          <div class="flex items-center space-x-3 mb-3">
            <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 256 256">
                <path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Z"></path>
              </svg>
            </div>
            <span class="text-sm text-slate-500 font-medium">AI Assistant</span>
            <span class="text-xs text-slate-400">${timestamp}</span>
          </div>
          <div class="message-content text-slate-700">${formatAIResponse(text)}</div>
        `;
      }

      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function formatAIResponse(text) {
      return text
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
        .replace(/\*(.*?)\*/g, '<em>$1</em>')
        .replace(/\n/g, '<br>')
        .replace(/‚Ä¢/g, '<span class="text-blue-600 font-bold">‚Ä¢</span>');
    }

    function showTypingIndicator() {
      isTyping = true;
      const typingDiv = document.createElement('div');
      typingDiv.id = 'typing-indicator';
      typingDiv.className = 'typing-indicator animate-messageSlideIn';
      typingDiv.innerHTML = `
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
        <div class="typing-dot"></div>
      `;
      chatMessages.appendChild(typingDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function hideTypingIndicator() {
      const typingDiv = document.getElementById('typing-indicator');
      if (typingDiv) {
        typingDiv.remove();
      }
      isTyping = false;
    }

    function generateAIResponse(userMessage) {
      const message = userMessage.toLowerCase();
      
      // Find matching response
      for (const response of aiResponses) {
        if (response.trigger.some(trigger => message.includes(trigger))) {
          return response.response;
        }
      }

      // Common greeting responses
      if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {
        return "üëã **Hello there!** I'm excited to help you plan your next adventure.\n\n‚ú® I can assist with:\n‚Ä¢ **Trip Planning**: Detailed itineraries for any destination\n‚Ä¢ **Bookings**: Flights, hotels, activities\n‚Ä¢ **Local Insights**: Hidden gems and authentic experiences\n‚Ä¢ **Budget Tips**: Make your money go further\n‚Ä¢ **Emergency Support**: 24/7 assistance\n\nWhat destination has caught your interest, or do you have a specific travel question?";
      }
      
      if (message.includes('thank') || message.includes('thanks')) {
        return "üòä **You're very welcome!** I'm here whenever you need travel assistance.\n\nFeel free to ask about:\n‚Ä¢ Specific destinations\n‚Ä¢ Travel logistics\n‚Ä¢ Budget planning\n‚Ä¢ Safety concerns\n‚Ä¢ Local recommendations\n\nHave a fantastic journey, and don't hesitate to reach out if you need anything else! ‚úàÔ∏èüåç";
      }

      if (message.includes('weather') || message.includes('climate')) {
        return "üå§Ô∏è **Weather & Climate Information**\n\n**To give you accurate weather advice, I need:**\n‚Ä¢ Your destination\n‚Ä¢ Travel dates/months\n‚Ä¢ Activities you're planning\n\n**General Climate Tips:**\n‚Ä¢ **Tropical**: Wet & dry seasons vary by region\n‚Ä¢ **Mediterranean**: Hot summers, mild winters\n‚Ä¢ **Continental**: Four distinct seasons\n‚Ä¢ **Monsoon**: Heavy rainfall periods in Asia\n‚Ä¢ **Desert**: Extreme temperature variations\n\n**Packing Considerations:**\n‚Ä¢ Check seasonal weather patterns\n‚Ä¢ Layer clothing for temperature changes\n‚Ä¢ Waterproof gear for rainy seasons\n‚Ä¢ Sun protection year-round\n\nShare your destination and I'll provide specific weather insights!";
      }

      if (message.includes('food') || message.includes('cuisine') || message.includes('restaurant')) {
        return "üçΩÔ∏è **Culinary Travel Guide**\n\n**Food Experience Types:**\n‚Ä¢ **Street Food**: Authentic, affordable local flavors\n‚Ä¢ **Fine Dining**: Michelin-starred, special occasions\n‚Ä¢ **Local Markets**: Fresh ingredients, cultural immersion\n‚Ä¢ **Cooking Classes**: Learn traditional techniques\n‚Ä¢ **Food Tours**: Guided culinary exploration\n\n**Dietary Considerations:**\n‚Ä¢ **Vegetarian/Vegan**: Research local options\n‚Ä¢ **Allergies**: Learn key phrases in local language\n‚Ä¢ **Religious Restrictions**: Halal, Kosher availability\n‚Ä¢ **Health Concerns**: Water safety, food hygiene\n\n**Regional Specialties to Try:**\n‚Ä¢ **Asia**: Ramen, pho, curry, dim sum\n‚Ä¢ **Europe**: Pasta, pastries, cheese, wine\n‚Ä¢ **Americas**: BBQ, ceviche, tacos, craft beer\n‚Ä¢ **Africa**: Tagines, injera, braai\n\n**Safety Tips:**\n‚Ä¢ Eat where locals eat\n‚Ä¢ Hot, fresh-cooked food is safest\n‚Ä¢ Be cautious with raw foods\n‚Ä¢ Bottled water in developing countries\n\nWhich destination's cuisine interests you most? I'll share specific recommendations!";
      }

      // Default helpful response
      return `ü§î **Great question!** I'd love to help you with that.\n\n**I can provide detailed assistance with:**\n\nüåç **Destination Planning**\n‚Ä¢ Complete itineraries and must-see attractions\n‚Ä¢ Best times to visit and seasonal considerations\n‚Ä¢ Cultural insights and local customs\n\n‚úàÔ∏è **Travel Logistics**\n‚Ä¢ Flight booking strategies and deals\n‚Ä¢ Accommodation recommendations by budget\n‚Ä¢ Transportation options and passes\n\nüí∞ **Budget & Money**\n‚Ä¢ Daily budget estimates by destination\n‚Ä¢ Money-saving tips and strategies\n‚Ä¢ Currency exchange and payment methods\n\nüõ°Ô∏è **Safety & Support**\n‚Ä¢ Emergency contacts and procedures\n‚Ä¢ Health and vaccination requirements\n‚Ä¢ Travel insurance recommendations\n\n**Could you provide more specific details about:**\n‚Ä¢ Your destination of interest\n‚Ä¢ Travel dates or duration\n‚Ä¢ Budget range\n‚Ä¢ Type of experience you're seeking\n\nWith more context, I can give you much more personalized and detailed advice! üöÄ`;
    }

    function clearChat() {
      chatMessages.innerHTML = `
        <div class="ai-message p-5 animate-messageSlideIn">
          <div class="flex items-center space-x-3 mb-3">
            <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 256 256">
                <path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Z"></path>
              </svg>
            </div>
            <span class="text-sm text-slate-500 font-medium">AI Assistant</span>
            <span class="text-xs text-slate-400">Just now</span>
          </div>
          <div class="message-content text-slate-700">
            <p><strong>Chat cleared!</strong> üßπ</p>
            <p class="mt-2">I'm ready to help with your next travel question. What adventure are you planning?</p>
            <div class="quick-actions">
              <button class="quick-action-btn" onclick="sendQuickMessage('Plan a weekend getaway')">Weekend Trip</button>
              <button class="quick-action-btn" onclick="sendQuickMessage('Best travel apps')">Travel Apps</button>
              <button class="quick-action-btn" onclick="sendQuickMessage('Packing checklist')">Packing Tips</button>
            </div>
          </div>
        </div>
      `;
    }

    function attachFile() {
      // Simulate file attachment
      const fileTypes = [
        { icon: 'üì∏', text: 'Photo uploaded: destination-image.jpg', response: 'I can see your photo! This looks like a beautiful destination. Let me help you plan activities and find the best spots nearby. What specific experiences are you looking for at this location?' },
        { icon: 'üìÑ', text: 'Document attached: travel-itinerary.pdf', response: 'Thanks for sharing your itinerary! I\'ve analyzed your travel plans and can suggest optimizations, additional activities, and local insights for each destination. Would you like me to review any specific part of your trip?' },
        { icon: 'üó∫Ô∏è', text: 'Map shared: trip-route.png', response: 'Great map! I can see your planned route and suggest the best stops along the way, scenic viewpoints, local restaurants, and hidden gems. I can also help optimize your travel times and suggest alternative routes if needed.' }
      ];
      
      const randomFile = fileTypes[Math.floor(Math.random() * fileTypes.length)];
      
      addMessage(`${randomFile.icon} ${randomFile.text}`, 'user');
      
      setTimeout(() => {
        addMessage(randomFile.response, 'ai');
      }, 1500);
    }

    // Auto-focus chat input when page loads
    window.addEventListener('load', function() {
      setTimeout(() => {
        chatInput.focus();
      }, 800);
    });

    // Navbar scroll effect
    window.addEventListener('scroll', function() {
      const nav = document.querySelector('nav');
      if (window.scrollY > 50) {
        nav.style.background = 'rgba(255, 255, 255, 0.98)';
        nav.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.1)';
      } else {
        nav.style.background = 'rgba(255, 255, 255, 0.95)';
        nav.style.boxShadow = 'none';
      }
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
      // Ctrl/Cmd + K to focus chat
      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
        e.preventDefault();
        chatInput.focus();
      }
      
      // Escape to clear input
      if (e.key === 'Escape' && document.activeElement === chatInput) {
        chatInput.value = '';
        autoResize(chatInput);
      }
    });

    console.log('ü§ñ Traverz AI Assistant loaded successfully!');
    console.log('üí° Tips:');
    console.log('   ‚Ä¢ Press Ctrl+K (Cmd+K on Mac) to focus chat');
    console.log('   ‚Ä¢ Press Escape to clear input');
    console.log('   ‚Ä¢ Press Shift+Enter for new line');
  </script>
</body>

</html>